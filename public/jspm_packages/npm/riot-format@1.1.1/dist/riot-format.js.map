{"version":3,"file":null,"sources":["../src/opts.js","../src/util.js","../src/formatter.js","../src/format.js","../src/formatters/date.js","../src/formatters/number.js","../src/formatters/bytes.js","../src/formatters/json.js","../src/formatters/index.js","../src/version.js","../src/index.js"],"sourcesContent":["export const DEFAULT_ERROR = '!ERR!'\r\n\r\nexport default {\r\n    /**\r\n     * 0 - log error in console\r\n     * 1 - throw error\r\n     * 2 - sliently swallow\r\n     */\r\n    errorBehavior: 0,\r\n    /**\r\n     * represents that error occurs when evaluted formatters\r\n     */ \r\n    errorText: DEFAULT_ERROR\r\n}","const slice = Array.prototype.slice\n\nexport function arrayify(obj, start = 0){\n    return slice.call(obj, start)\n}\n\nexport function isString(obj){\n    return typeof obj === 'string'\n}\n\nexport function isFunction(obj){\n    return typeof obj === 'function'\n}\n\nexport function isUndefined(obj){\n    return typeof obj === 'undefined'\n}\n\nexport function isNull(obj){\n    return obj === null\n}\n\nexport function isNullOrUndefined(obj){\n    return isUndefined(obj) || isNull(obj)\n}\n\nexport function inArray(arr, item){\n    return arr.indexOf(item) !== -1\n}\n\n/**\n * throw error\n * \n * @export\n * @param {string} msg\n * @returns {never}\n */\nexport function fail(msg){\n    throw new Error(msg)\n}\n\nexport const warn = console.warn.bind(console)\n\nexport const error = console.error.bind(console)","import opts from './opts'\nimport { isNullOrUndefined, error } from './util'\n\nfunction handleError(e){\n    if(opts.errorBehavior === 2){\n        return\n    }else if(opts.errorBehavior === 1){\n        throw e\n    }else{\n        error(e)\n    }\n}\n\n/**\n * a decorator class to format value\n * @class\n */\nexport default class Formatter {\n    constructor (value) {\n        this._value = value\n    }\n\n  /**\n   * @description format the value to String\n   * @returns {String}\n   */\n    toString () {\n        let val = this.current\n        return isNullOrUndefined(val) ? '' : String(val)\n    }\n\n    /**\n     * the original value passed in\n     * \n     * @readonly\n     * \n     * @memberOf Formatter\n     */\n    get value(){\n        return this._value\n    }\n\n    /**\n     * the evaluated value by chained formatters\n     * \n     * @readonly\n     * \n     * @memberOf Formatter\n     */\n    get current(){\n        //check error\n        if(this._error){\n            handleError(this._error)\n            return opts.errorText\n        }\n\n        const chains = this._chains\n        let val =  '_lazyValue' in this ? this._lazyValue : this._value\n        //no chains\n        if(!chains){\n            return val\n        }\n\n        delete this._chains\n        delete this._lazyValue\n        delete this._error\n\n        //eval chains\n        try {\n            for(let i=0; i< chains.length; i++){\n                val = chains[i](val)\n            }\n            this._lazyValue = val\n            return val\n        } catch (e) {\n            this._error = e\n            handleError(e)\n        }\n        return opts.errorText\n    }\n}\n\n","import Formatter from './formatter'\nimport opts from './opts'\nimport { arrayify, isString, isFunction, inArray, fail, warn } from './util'\n\n/**\n * Forbidden names when define formatters or retrieve formatter\n * @constant\n */\nconst Forbiddens = ['value', 'current' ,'toString', '_value', '_error', '_chains']\n\n/**\n* format a given value in the riot tag context\n* @example <caption>use it globally</caption>\n* format(new Date(), 'date');\n* @example <caption>use it with riot</caption>\n* window.format = format;\n* \n* //define a riot tag\n*   <app>\n*      <p> {format(new Date(), 'date', 'yyyy-mm-dd HH:MM:ss')} </p>\n*   </app>\n* @param {any} value      the value passed in to be formatted\n* @param {string} method  the format method to be used\n* @returns {Formatter} the Formatter instance\n*/\nexport function format (value, method) {\n    const self = new Formatter(value)\n    const args = arrayify(arguments, 2)\n    if (isString(method)) {\n        if(inArray(Forbiddens, method)){\n            warn('ignored, not allowed method: ' + method)\n            return self\n        }\n\n        const fn = self[method]\n        if (isFunction(fn)) {\n            fn.apply(self, args)\n        }else{\n            fail('method not found: ' + method)\n        }\n    }\n    return self\n}\n\nformat.opts = opts\n\n/**\n * @param {String} method method name\n * @param {Function} fn method body\n */\nfunction defineFormatter (method, fn) {\n    if (isString(method) && isFunction(fn)) {\n        if(inArray(Forbiddens, method)){\n            fail('not allowed method: ' + method)\n        }\n\n        const format = function () {\n            const args = arrayify(arguments)\n            let chains = this._chains\n            if(!chains){\n                chains = []\n            }\n            chains.push(function(value){\n                args.unshift(value)\n                return fn.apply(null, args)\n            })\n            this._chains = chains\n            return this\n        }\n        format._def = fn\n        Formatter.prototype[method] = format\n        return\n    }\n    fail('check parameters')\n}\n\n/**\n * @description extend with custom formatters\n * @example\n *  extend('yesno', function(input){\n *      return !!input ? 'yes' : 'no';\n *  });\n * @example\n *  extend({\n *      yes: function(input){\n *          return !!input ? 'yes' : '';\n *      },\n *      no: function(input){\n *          return !!!input ? 'no' : '';\n *      }\n *  });\n * \n * @param {String|Object} name if name is Object, means mutiple format methods;\n *  otherwise it is method name, should be used with fn\n * @param {Function} fn should be used if name is String\n */\nexport function extend (name, fn) {\n    if (typeof name === 'object') {\n        const obj = name\n        for (let key in obj) {\n            defineFormatter(key, obj[key])\n        }\n    }else {\n        defineFormatter(name , fn)\n    }\n}\n","// taken from http://stevenlevithan.com/assets/misc/date.format.js\n/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\nvar dateFormat = function () {\n    var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g,\n        timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\n        timezoneClip = /[^-+\\dA-Z]/g,\n        pad = function (val, len) {\n            val = String(val)\n            len = len || 2\n            while (val.length < len) val = '0' + val\n            return val\n        }\n\n  // Regexes and supporting functions are cached through closure\n    return function (date, mask, utc) {\n        var dF = dateFormat\n\n    // You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\n        if (arguments.length == 1 && Object.prototype.toString.call(date) == '[object String]' && !/\\d/.test(date)) {\n            mask = date\n            date = undefined\n        }\n\n    // Passing date through Date applies Date.parse, if necessary\n        date = date ? new Date(date) : new Date()\n        if (isNaN(date)) throw SyntaxError('invalid date')\n\n        mask = String(dF.masks[mask] || mask || dF.masks['default'])\n\n    // Allow setting the utc argument via the mask\n        if (mask.slice(0, 4) == 'UTC:') {\n            mask = mask.slice(4)\n            utc = true\n        }\n\n        var _ = utc ? 'getUTC' : 'get',\n            d = date[_ + 'Date'](),\n            D = date[_ + 'Day'](),\n            m = date[_ + 'Month'](),\n            y = date[_ + 'FullYear'](),\n            H = date[_ + 'Hours'](),\n            M = date[_ + 'Minutes'](),\n            s = date[_ + 'Seconds'](),\n            L = date[_ + 'Milliseconds'](),\n            o = utc ? 0 : date.getTimezoneOffset(),\n            flags = {\n                d: d,\n                dd: pad(d),\n                ddd: dF.i18n.dayNames[D],\n                dddd: dF.i18n.dayNames[D + 7],\n                m: m + 1,\n                mm: pad(m + 1),\n                mmm: dF.i18n.monthNames[m],\n                mmmm: dF.i18n.monthNames[m + 12],\n                yy: String(y).slice(2),\n                yyyy: y,\n                h: H % 12 || 12,\n                hh: pad(H % 12 || 12),\n                H: H,\n                HH: pad(H),\n                M: M,\n                MM: pad(M),\n                s: s,\n                ss: pad(s),\n                l: pad(L, 3),\n                L: pad(L > 99 ? Math.round(L / 10) : L),\n                t: H < 12 ? 'a' : 'p',\n                tt: H < 12 ? 'am' : 'pm',\n                T: H < 12 ? 'A' : 'P',\n                TT: H < 12 ? 'AM' : 'PM',\n                Z: utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n                o: (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n                S: ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]\n            }\n\n        return mask.replace(token, function ($0) {\n            return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1)\n        })\n    }\n}()\n\n// Some common format strings\ndateFormat.masks = {\n    'default': 'ddd mmm dd yyyy HH:MM:ss',\n    shortDate: 'm/d/yy',\n    mediumDate: 'mmm d, yyyy',\n    longDate: 'mmmm d, yyyy',\n    fullDate: 'dddd, mmmm d, yyyy',\n    shortTime: 'h:MM TT',\n    mediumTime: 'h:MM:ss TT',\n    longTime: 'h:MM:ss TT Z',\n    isoDate: 'yyyy-mm-dd',\n    isoTime: 'HH:MM:ss',\n    isoDateTime: 'yyyy-mm-dd\\'T\\'HH:MM:ss',\n    isoUtcDateTime: 'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\''\n}\n\n// Internationalization strings\ndateFormat.i18n = {\n    dayNames: [\n        'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n        'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n    ],\n    monthNames: [\n        'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n        'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n    ]\n}\n\n\ndateFormat.polyfill = function () {\n    // For convenience...\n    \n    /*jshint -W121 */\n    Date.prototype.format = function (mask, utc) {\n        return dateFormat(this, mask, utc)\n    }\n    /*jshint +W121 */\n}\n\nexport default dateFormat\n","export default function number (input, fractionSize = 2) {\n    const num = Number(input)\n    if (isNaN(num.valueOf())) {\n        return input\n    }\n    if (!isFinite(num.valueOf())) {\n        return num.valueOf() < 0 ? '-∞' : '∞'\n    }\n    return num.toFixed(fractionSize).replace(/(\\d)(?=(\\d{3})+\\.)/g, '$1,')\n}\n","const units = 'KMG'\n\nexport default function bytes (input, fractionSize = 2, defaultValue = '--') {\n    let num = Number(input)\n\n    if (isNaN(num.valueOf()) || !isFinite(num.valueOf()) || num < 0) {\n        return defaultValue\n    }\n    \n    let i=0\n    for(; num>=1024 && i<=3 ; i++) {\n        num = num /1024\n    }\n\n    return i > 0 ? (num.toFixed(fractionSize) + units[i - 1]) : (num + '')\n}\n","export default function json (input) {\n    return JSON.stringify(input)\n}\n","import { extend } from '../format'\n\nimport date from  './date'\nimport number from './number'\nimport bytes from './bytes'\nimport json from './json'\n\nextend({date, number, bytes, json})","export default '1.1.1'","/**\n * repo: https://github.com/Joylei/riot-format.git\n * @author joylei <leingliu@gmail.com>\n */\n\nimport { format, extend } from './format'\nimport { arrayify,warn } from './util'\n\n// import built-in formatters\nimport './formatters'\n\n/**\n * mixin format globally\n * @param {any} riot riot module object\n * @example\n * import * as riot from 'riot';\n * use(riot);\n */\nexport function use(riot) {\n    riot.mixin({ format })\n}\n\n/**\n * same as extend()\n * @see extend\n * @deprecated\n */\nuse.define = function () {\n    warn('define() is deprecated, use extend() instead.')\n    return extend.apply(null, arrayify(arguments))\n}\n\nuse.extend = extend\n\nuse.format = format\n\nexport { default as version } from './version'\n\n// use.Formatter = Formatter\nexport { format, extend } from './format'\n\nexport default use"],"names":["const","let","date"],"mappings":"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"}